<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogs Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <style>
        /* Reduced font sizes for blogs page - using !important to override Tailwind */
        .text-3xl { font-size: 1.5rem !important; }
        .text-xl { font-size: 1rem !important; }
        .text-lg { font-size: 0.9rem !important; }
        .text-sm { font-size: 0.75rem !important; }
        .text-xs { font-size: 0.65rem !important; }
        h1 { font-size: 1.5rem !important; }
        h2 { font-size: 1rem !important; }
        h3 { font-size: 0.9rem !important; }
        .material-icons { font-size: 1.1rem !important; }
        .text-2xl { font-size: 1.1rem !important; }
        
        /* Specific overrides for blogs page elements */
        main h1 { font-size: 1.5rem !important; }
        main h2 { font-size: 1rem !important; }
        main h3 { font-size: 0.9rem !important; }
        main p { font-size: 0.75rem !important; }
        main .text-3xl { font-size: 1.5rem !important; }
        main .text-xl { font-size: 1rem !important; }
        main .text-lg { font-size: 0.9rem !important; }
        main .text-sm { font-size: 0.75rem !important; }
        main .text-xs { font-size: 0.65rem !important; }
        main .material-icons { font-size: 1.1rem !important; }
        main .text-2xl { font-size: 1.1rem !important; }
        
        /* Button and form text */
        main button { font-size: 0.75rem !important; }
        main input { font-size: 0.75rem !important; color: #000000 !important; }
        main textarea { font-size: 0.75rem !important; color: #000000 !important; }
        main select { font-size: 0.75rem !important; color: #000000 !important; }
        main label { font-size: 0.75rem !important; }
        
        /* Modal form inputs - ensure black text */
        input[type="text"], input[type="number"], textarea, select {
            color: #000000 !important;
        }
        
        /* Placeholder text color */
        input::placeholder, textarea::placeholder {
            color: #6b7280 !important;
        }
        
        /* Dropdown styling with icons */
        .dropdown-container {
            position: relative;
        }
        
        .dropdown-container select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }
        
        .dropdown-container::after {
            content: '';
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            width: 16px;
            height: 16px;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-size: contain;
        }
        
        /* Table header controls - white text */
        #rowsPerPage {
            color: black !important;
        }
        
        #rowsPerPage option {
            color: black !important;
        }
        
        #searchInput {
            color: black !important;
        }
        
            #searchInput::placeholder {
                color: #6b7280 !important;
            }
            
            /* Gray styling for table container only */
            .bg-white.rounded-xl.shadow-lg {
                background-color: #f8fafc !important;
                border: 1px solid #9ca3af !important;
            }
            
            /* Form visibility improvements */
            .modal-content {
                background: white !important;
                color: #1f2937 !important;
                border: 2px solid #3b82f6 !important;
            }
            
            .modal-content input,
            .modal-content textarea,
            .modal-content select {
                background: white !important;
                color: #1f2937 !important;
                border: 1px solid #d1d5db !important;
            }
            
            .modal-content input:focus,
            .modal-content textarea:focus,
            .modal-content select:focus {
                border-color: #3b82f6 !important;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
        }

        /* Ensure grid stays left-aligned on all screen sizes */
        #blogsGrid {
            justify-content: start !important;
            align-items: start !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        /* Override any centering from parent containers */
        .w-full {
            max-width: none !important;
            margin: 0 !important;
        }

        /* Prevent centering on large screens */
        @media (min-width: 1280px) {
            #blogsGrid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
                justify-content: start !important;
            }
        }

        /* Force left alignment on very large screens */
        @media (min-width: 1650px) {
            #blogsGrid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
                justify-content: start !important;
                max-width: none !important;
                width: 100% !important;
            }
            
            .p-6 {
                padding-left: 1.5rem !important;
                padding-right: 1.5rem !important;
            }
        }

        /* Make cards expand to fill available space on wide screens */
        @media (min-width: 1400px) {
            #blogsGrid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)) !important;
                gap: 2rem !important;
            }
        }

        @media (min-width: 1800px) {
            #blogsGrid {
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)) !important;
                gap: 2.5rem !important;
            }
        }

        @media (min-width: 2200px) {
            #blogsGrid {
                grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)) !important;
                gap: 3rem !important;
            }
        }
    </style>
</head>

<body class="min-h-screen bg-[#183153]">
    <!-- Include header -->
    <div id="header-container"></div>
    <div id="nav-container"></div>
    <div class="w-full h-2 bg-transparent"></div>
    <div class="flex min-h-screen">
        <!-- Include web content navigation -->
        <div id="web-content-nav-container"></div>
        
        <main class="flex-1 p-6 bg-gray-100 min-h-screen text-gray-800">
            <div class="w-full">

                <!-- Blogs Management Section -->
                <div class="bg-white rounded-xl shadow-lg -mt-5">
                    <div class="bg-gray-100 text-black px-6 py-4 rounded-t-xl flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="material-icons mr-3 text-2xl text-blue-600">article</i>
                            <div>
                                <p class="text-black text-lg font-bold">MANAGE BLOGS</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button id="addBlogBtn" class="bg-blue-600 text-white px-4 py-1 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                                Add New
                            </button>
                            <button id="previewBtn" class="bg-green-600 text-white px-4 py-1 rounded-lg hover:bg-green-700 transition-colors flex items-center text-sm font-medium">
                                <i class="material-icons mr-2 text-white">visibility</i>
                                Preview
                            </button>
                            <div class="flex items-center space-x-2">
                                <button class="bg-white text-black px-3 py-1 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium">
                                    <i class="fas fa-sort mr-1 text-black"></i> Sort
                                </button>
                                <button class="bg-white text-black px-3 py-1 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium">
                                    <i class="fas fa-filter mr-1 text-black"></i> Filter
                                </button>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-black font-medium">Show:</span>
                                <select id="rowsPerPage" class="border border-gray-300 rounded px-3 py-1 text-sm text-black bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[60px]">
                                    <option value="5" class="text-black">5</option>
                                    <option value="10" selected class="text-black">10</option>
                                    <option value="25" class="text-black">25</option>
                                    <option value="50" class="text-black">50</option>
                                </select>
                            </div>
                            <div class="relative">
                                <input type="text" id="searchInput" placeholder="Search..." 
                                       class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64 bg-white text-black placeholder-gray-500">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Blogs Grid View -->
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 justify-start" id="blogsGrid">
                            <!-- Blog Card 1 -->
                            <div class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <div class="relative">
                                    <img src="../images/banner4.jpg" 
                                         alt="Blog Image" class="w-full h-48 object-cover rounded-t-lg">
                                    <div class="absolute top-2 right-2">
                                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full">Active</span>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Enhance Your Outdoor Spaces with Excellence!</h3>
                                    <p class="text-gray-600 text-sm mb-4">Since 2018, we've been transforming outdoor areas into stunning, functional spaces for both residential and commercial properties. Whether it's creating a serene garden or a vibrant outdoor lounge, we bring your vision to life. Ready to elevate your outdoors? Click the button below to explore our services!</p>
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Published: 2024-01-15</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Alignment: Center</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="flex items-center">
                                            <input type="checkbox" checked class="mr-2 w-4 h-4">
                                            <span class="text-xs text-gray-700">Display on Website</span>
                                        </label>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Order: 1</span>
                                            <button class="edit-blog-btn text-blue-600 hover:text-blue-800 text-sm font-medium">
                                                <i class="fas fa-edit mr-1"></i>Edit
                                            </button>
                                            <button class="text-red-600 hover:text-red-800 text-sm font-medium">
                                                <i class="fas fa-trash mr-1"></i>Delete
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Blog Card 2 -->
                            <div class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <div class="relative">
                                    <img src="../images/logo/banner2.jpg" 
                                         alt="Blog Image" class="w-full h-48 object-cover rounded-t-lg">
                                    <div class="absolute top-2 right-2">
                                        <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2 py-1 rounded-full">Inactive</span>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Shaping Spaces Creating Harmonies</h3>
                                    <p class="text-gray-600 text-sm mb-4">With over four years of industry experience, we are a fully licensed landscaping firm dedicated to providing exceptional residential and commercial landscaping design, installation, and maintenance services. We pride ourselves on creating customized outdoor spaces that perfectly fit our clients' needs and preferences.</p>
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Published: 2024-01-10</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Alignment: Left</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="flex items-center">
                                            <input type="checkbox" checked class="mr-2 w-4 h-4">
                                            <span class="text-xs text-gray-700">Display on Website</span>
                                        </label>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Order: 2</span>
                                            <button class="edit-blog-btn text-blue-600 hover:text-blue-800 text-sm font-medium">
                                                <i class="fas fa-edit mr-1"></i>Edit
                                            </button>
                                            <button class="text-red-600 hover:text-red-800 text-sm font-medium">
                                                <i class="fas fa-trash mr-1"></i>Delete
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Blog Card 3 -->
                            <div class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <div class="relative">
                                    <img src="../images/logo/banner3.jpg" 
                                         alt="Blog Image" class="w-full h-48 object-cover rounded-t-lg">
                                    <div class="absolute top-2 right-2">
                                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full">Active</span>
                                    </div>
                                </div>
                                <div class="p-4">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Crafting the Perfect Outdoors</h3>
                                    <p class="text-gray-600 text-sm mb-4">With over four years of industry experience, we are a fully licensed landscaping firm dedicated to providing exceptional residential and commercial landscape design, installation, and maintenance water feature installations, and poolscapes. We pride ourselves on creating customized outdoor spaces that perfectly fit our clients' needs and preferences.</p>
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Published: 2024-01-05</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Alignment: Right</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="flex items-center">
                                            <input type="checkbox" checked class="mr-2 w-4 h-4">
                                            <span class="text-xs text-gray-700">Display on Website</span>
                                        </label>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-xs text-gray-500">Order: 3</span>
                                            <button class="edit-blog-btn text-blue-600 hover:text-blue-800 text-sm font-medium">
                                                <i class="fas fa-edit mr-1"></i>Edit
                                            </button>
                                            <button class="text-red-600 hover:text-red-800 text-sm font-medium">
                                                <i class="fas fa-trash mr-1"></i>Delete
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pagination -->
                    <div class="px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl">
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-600">
                                Showing <span id="showingStart" class="font-medium">1</span> to <span id="showingEnd" class="font-medium">3</span> of <span id="totalResults" class="font-medium">3</span> results
                            </div>
                            <div class="flex items-center space-x-2">
                                <button id="prevPage" class="px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100" disabled>
                                    <i class="fas fa-chevron-left mr-1"></i>Previous
                                </button>
                                <div class="flex space-x-1" id="pageNumbers">
                                    <button class="px-3 py-2 bg-blue-600 text-white rounded-md text-sm font-medium">1</button>
                                </div>
                                <button id="nextPage" class="px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100" disabled>
                                    Next<i class="fas fa-chevron-right ml-1"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Blog Creation Modal -->
                <div id="blogModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <div class="bg-blue-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center">
                                <h3 class="text-xl font-semibold">Add New Blog</h3>
                                <button id="closeBlogModal" class="text-white hover:text-gray-200">
                                    <i class="fas fa-times text-xl"></i>
                                </button>
                            </div>
                            
                            <form class="p-6">
                                <!-- Two Column Layout -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Left Column -->
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Order</label>
                                            <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter blog order">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Title</label>
                                            <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter blog title">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                            <div class="dropdown-container">
                                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="active">Active</option>
                                                    <option value="inactive">Inactive</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Text Alignment</label>
                                            <div class="dropdown-container">
                                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="left">Left</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Image Alignment</label>
                                            <div class="dropdown-container">
                                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="left">Left</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Right Column -->
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                            <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y" rows="1" placeholder="Enter blog description"></textarea>
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Image</label>
                                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                                                <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                                                <p class="text-gray-500 text-sm mb-1">Click to upload or drag and drop</p>
                                                <p class="text-xs text-gray-400">PNG, JPG, GIF up to 10MB</p>
                                                <input type="file" class="hidden" accept="image/*">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flex justify-end space-x-3 pt-4">
                                    <button type="button" id="cancelBlog" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors">
                                        Cancel
                                    </button>
                                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                        Save Blog
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Edit Blog Modal -->
                <div id="editBlogModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <div class="bg-blue-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center">
                                <h3 class="text-xl font-semibold">Edit Blog</h3>
                                <button id="closeEditBlogModal" class="text-white hover:text-gray-200">
                                    <i class="fas fa-times text-xl"></i>
                                </button>
                            </div>
                            
                            <form class="p-6">
                                <!-- Two Column Layout -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Left Column -->
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Order</label>
                                            <input type="number" id="editBlogOrder" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter blog order" value="1">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Title</label>
                                            <input type="text" id="editBlogTitle" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter blog title" value="Enhance Your Outdoor Spaces with Excellence!">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                            <div class="dropdown-container">
                                                <select id="editBlogStatus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="active" selected>Active</option>
                                                    <option value="inactive">Inactive</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Text Alignment</label>
                                            <div class="dropdown-container">
                                                <select id="editTextAlignment" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="left">Left</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Image Alignment</label>
                                            <div class="dropdown-container">
                                                <select id="editImageAlignment" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                                    <option value="left">Left</option>
                                                    <option value="center" selected>Center</option>
                                                    <option value="right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Right Column -->
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                            <textarea id="editBlogDescription" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y" rows="1" placeholder="Enter blog description">Since 2018, we've been transforming outdoor areas into stunning, functional spaces for both residential and commercial properties. Whether it's creating a serene garden or a vibrant outdoor lounge, we bring your vision to life. Ready to elevate your outdoors? Click the button below to explore our services!</textarea>
                                        </div>
                                        
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Blog Image</label>
                                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                                                <img id="editBlogImagePreview" src="../images/banner4.jpg" alt="Current Blog" class="w-full h-32 object-cover rounded mb-2">
                                                <i class="fas fa-cloud-upload-alt text-2xl text-gray-400 mb-2"></i>
                                                <p class="text-gray-500 text-sm mb-1">Click to upload or drag and drop</p>
                                                <p class="text-xs text-gray-400">PNG, JPG, GIF up to 10MB</p>
                                                <input type="file" id="editBlogImage" class="hidden" accept="image/*">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flex justify-end space-x-3 pt-4">
                                    <button type="button" id="cancelEditBlog" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors">
                                        Cancel
                                    </button>
                                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                        Update Blog
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Include header and navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Load header
            fetch('../nav/header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-container').innerHTML = data;
                });

            // Load navigation
            fetch('../nav/navigation.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('nav-container').innerHTML = data;
                });

            // Load web content navigation
            fetch('../nav/web-content-navigation.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('web-content-nav-container').innerHTML = data;
                    
                    // Restore expanded sections from localStorage
                    const expandedSections = JSON.parse(localStorage.getItem('expandedSections') || '[]');
                    expandedSections.forEach(sectionId => {
                        const section = document.getElementById(sectionId);
                        if (section) {
                            section.classList.remove('collapsed');
                            const header = section.previousElementSibling.querySelector('.section-header');
                            if (header) {
                                header.classList.remove('collapsed');
                                const icon = header.querySelector('.material-icons');
                                if (icon) {
                                    icon.textContent = 'expand_more';
                                }
                            }
                        }
                    });
                });
        });

        // Collapsible navigation function
        window.toggleSection = function(sectionId) {
            const section = document.getElementById(sectionId);
            if (!section) return;
            
            const header = section.previousElementSibling.querySelector('.section-header');
            const icon = header.querySelector('.material-icons');
            
            // Get current expanded sections from localStorage
            let expandedSections = JSON.parse(localStorage.getItem('expandedSections') || '[]');
            
            if (section.classList.contains('collapsed')) {
                // Expand section
                section.classList.remove('collapsed');
                header.classList.remove('collapsed');
                icon.textContent = 'expand_more';
                
                // Add to expanded sections if not already there
                if (!expandedSections.includes(sectionId)) {
                    expandedSections.push(sectionId);
                }
            } else {
                // Collapse section
                section.classList.add('collapsed');
                header.classList.add('collapsed');
                icon.textContent = 'chevron_right';
                
                // Remove from expanded sections
                expandedSections = expandedSections.filter(id => id !== sectionId);
            }
            
            // Save updated state to localStorage
            localStorage.setItem('expandedSections', JSON.stringify(expandedSections));
        };

        // Collapsible navigation function
        window.toggleNavSection = function(header) {
            console.log('Toggle function called on:', header);
            
            const section = header.getAttribute('data-section');
            const submenu = document.getElementById(section + '-menu');
            const expandIcon = header.querySelector('.expand-icon');
            
            console.log('Section:', section, 'Submenu:', submenu, 'Icon:', expandIcon);
            
            // Toggle the expanded state
            header.classList.toggle('expanded');
            if (submenu) {
                submenu.classList.toggle('expanded');
                console.log('Submenu toggled, classes:', submenu.className);
            }
            
            // Rotate the chevron icon
            if (expandIcon) {
                if (header.classList.contains('expanded')) {
                    expandIcon.style.transform = 'rotate(90deg)';
                } else {
                    expandIcon.style.transform = 'rotate(0deg)';
                }
            }
        };

        // Set active link functionality
        function setActiveLink() {
            // Get current page filename
            const currentPage = window.location.pathname.split('/').pop();
            
            // Remove active class from all links
            const allLinks = document.querySelectorAll('.web-content-nav-link');
            allLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Find and set active link based on current page
            const navLinks = document.querySelectorAll('.web-content-nav-link[href]');
            navLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href && href === currentPage) {
                    link.classList.add('active');
                    
                    // Auto-expand the parent section if it's in a submenu
                    const parentSection = link.closest('.nav-submenu');
                    if (parentSection) {
                        const sectionId = parentSection.id;
                        const sectionName = sectionId.replace('-menu', '');
                        const sectionHeader = document.querySelector(`[data-section="${sectionName}"]`);
                        const expandIcon = sectionHeader ? sectionHeader.querySelector('.expand-icon') : null;
                        
                        if (sectionHeader && expandIcon) {
                            sectionHeader.classList.add('expanded');
                            parentSection.classList.add('expanded');
                            expandIcon.style.transform = 'rotate(90deg)';
                        }
                    }
                }
            });
        }

        // Auto-expand Home Page section on page load
        setTimeout(function() {
            setActiveLink();
            
            const homeSection = document.querySelector('[data-section="home-page"]');
            const homeSubmenu = document.getElementById('home-page-menu');
            const homeExpandIcon = homeSection ? homeSection.querySelector('.expand-icon') : null;
            
            if (homeSection && homeSubmenu && homeExpandIcon) {
                homeSection.classList.add('expanded');
                homeSubmenu.classList.add('expanded');
                homeExpandIcon.style.transform = 'rotate(90deg)';
            }
        }, 100);

        // Blog modal functionality
        document.addEventListener('DOMContentLoaded', function() {
            const addBlogBtn = document.getElementById('addBlogBtn');
            const blogModal = document.getElementById('blogModal');
            const closeBlogModal = document.getElementById('closeBlogModal');
            const cancelBlog = document.getElementById('cancelBlog');

            // Edit modal elements
            const editBlogModal = document.getElementById('editBlogModal');
            const closeEditBlogModal = document.getElementById('closeEditBlogModal');
            const cancelEditBlog = document.getElementById('cancelEditBlog');

            if (addBlogBtn) {
                addBlogBtn.addEventListener('click', function() {
                    blogModal.classList.remove('hidden');
                });
            }

            if (closeBlogModal) {
                closeBlogModal.addEventListener('click', function() {
                    blogModal.classList.add('hidden');
                });
            }

            if (cancelBlog) {
                cancelBlog.addEventListener('click', function() {
                    blogModal.classList.add('hidden');
                });
            }

            // Close modal when clicking outside
            blogModal.addEventListener('click', function(e) {
                if (e.target === blogModal) {
                    blogModal.classList.add('hidden');
                }
            });

            // Edit modal functionality
            if (closeEditBlogModal) {
                closeEditBlogModal.addEventListener('click', function() {
                    editBlogModal.classList.add('hidden');
                });
            }

            if (cancelEditBlog) {
                cancelEditBlog.addEventListener('click', function() {
                    editBlogModal.classList.add('hidden');
                });
            }

            // Close edit modal when clicking outside
            editBlogModal.addEventListener('click', function(e) {
                if (e.target === editBlogModal) {
                    editBlogModal.classList.add('hidden');
                }
            });

            // Handle edit button clicks
            document.addEventListener('click', function(e) {
                if (e.target.closest('.edit-blog-btn')) {
                    e.preventDefault();
                    editBlogModal.classList.remove('hidden');
                    
                    // Get blog data from the clicked card
                    const blogCard = e.target.closest('.bg-white');
                    const title = blogCard.querySelector('h3').textContent;
                    const description = blogCard.querySelector('p').textContent;
                    const status = blogCard.querySelector('.bg-green-100') ? 'active' : 'inactive';
                    const order = blogCard.querySelector('.text-xs').textContent.replace('Order: ', '');
                    const imageSrc = blogCard.querySelector('img').src;
                    
                    // Get alignment from the second text-xs element
                    const alignmentElements = blogCard.querySelectorAll('.text-xs');
                    const alignment = alignmentElements[1] ? alignmentElements[1].textContent.replace('Alignment: ', '') : 'Center';
                    
                    // Populate edit form
                    document.getElementById('editBlogTitle').value = title;
                    document.getElementById('editBlogDescription').value = description;
                    document.getElementById('editBlogStatus').value = status;
                    document.getElementById('editBlogOrder').value = order;
                    document.getElementById('editBlogImagePreview').src = imageSrc;
                    document.getElementById('editTextAlignment').value = alignment.toLowerCase();
                    document.getElementById('editImageAlignment').value = alignment.toLowerCase();
                }
            });
        });
    </script>
</body>
</html>
